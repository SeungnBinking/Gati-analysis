import matplotlib.pyplot as plt
from detecta import detect_peaks

a = [0.1271, 0.1022, 0.1063, 0.1399, 0.1669, 0.1906, 0.1987, 0.1992, 0.1798, 0.1544, 0.1395, 0.1923, 0.253, 0.2918, 0.3133, 0.3121, 0.307, 0.2899, 0.2364, 0.1632, 0.0893, 0.0764, 0.1518, 0.2056, 0.2365, 0.2648, 0.2857, 0.2717, 0.2182, 0.1619, 0.1388, 0.1829, 0.2575, 0.2988, 0.3226, 0.3339, 0.3347, 0.3072, 0.2558, 0.1804, 0.1048, 0.0854, 0.1527, 0.2212, 0.271, 0.3099, 0.326, 0.3228, 0.2981, 0.2531, 0.1978, 0.1449, 0.1383, 0.1877, 0.2535, 0.3097, 0.3261, 0.3209, 0.2783, 0.199, 0.0973, 0.0976, 0.1855, 0.2682, 0.34, 0.3653, 0.3744, 0.3593, 0.297, 0.1869, 0.1177, 0.1156, 0.1852, 0.248, 0.2931, 0.3183, 0.3012, 0.23, 0.1474, 0.0845, 0.1403, 0.2458, 0.3059, 0.3419, 0.3621, 0.3592, 0.3218, 0.2601, 0.2047, 0.1646, 0.1378, 0.115, 0.1052]
l = [61.26, 39.4, 29.38, 15.44, 5.45, 2.91, 3.99, 0.04, 5.38, 8.26, 5.7, 1.71, 0.06, 0.63, 3.84, 6.22, 7.39, 10.95, 25.76, 42.57, 53.31, 55.97, 48.17, 34.21, 16.25, 2.22, 4.87, 7.61, 5.47, 1.26, 3.2, 6.06, 7.64, 7.68, 7.54, 7.07, 9.14, 16.13, 29.3, 43.76, 54.08, 56.28, 48.77, 37.43, 22.61, 5.09, 2.48, 3.99, 1.36, 5.0, 14.49, 24.86, 28.69, 25.81, 19.16, 12.72, 12.42, 17.63, 29.12, 45.15, 64.97, 71.31, 66.84, 52.71, 26.63, 7.45, 3.19, 4.52, 2.7, 14.53, 23.22, 29.32, 29.38, 26.23, 24.11, 24.44, 34.76, 48.56, 64.46, 76.08, 78.13, 63.15, 43.52, 24.68, 11.25, 3.64, 5.43, 13.62, 22.11, 30.12, 34.29, 37.29, 39.36]

a = detect_peaks(a)
even_list = [a[i] for i in range(len(a)) if i % 2 == 0]
b = even_list

sub_lists = []
for i in range(len(b)-1):
    start = b[i]
    end = b[i+1]
    sub_list = l[start:end]
    sub_lists.append(sub_list)

print(sub_lists)

max_len = max([len(sub_list) for sub_list in sub_lists])
result = []
for i in range(max_len):
    total = 0
    for j in range(len(sub_lists)):
        if i < len(sub_lists[j]):
            total += sub_lists[j][i]
    result.append(total)

print(result)

gait_avr = [x / len(sub_lists) for x in result]
print(gait_avr)


plt.plot(gait_avr)
plt.show()



